@function dark-if-set($dark, $light) {
  @if $dark != "" {
    @return $dark;
  } @else {
    @return $light;
  }
}

@function get-background-image($upload, $url) {
  @if $upload != "" {
    @return $upload;
  } @else if $url != "" {
    @return $url;
  } @else {
    @return "";
  }
}

// Hero Color Variables
$hero-primary: dark-light-choose(
  $primary_color,
  dark-if-set($primary_color_dark, $primary_color)
);
$hero-accent: dark-light-choose(
  $accent_color,
  dark-if-set($accent_color_dark, $accent_color)
);
$hero-bg: dark-light-choose(
  $background_color,
  dark-if-set($background_color_dark, $background_color)
);
$hero-text: dark-light-choose(
  $text_color,
  dark-if-set($text_color_dark, $text_color)
);
$hero-text-muted: dark-light-choose(
  $muted_text_color,
  dark-if-set($muted_text_color_dark, $muted_text_color)
);

// Background image logic - prioritize uploads over URLs
$hero-bg-img-light: get-background-image($hero_background_image, $hero_background_image_url);
$hero-bg-img-dark: get-background-image($hero_background_image_dark, $hero_background_image_url_dark);

$hero-bg-img: dark-light-choose(
  $hero-bg-img-light,
  dark-if-set($hero-bg-img-dark, $hero-bg-img-light)
);

// CSS Custom Properties for Hero
:root {
  --hero-primary: #{$hero-primary};
  --hero-accent: #{$hero-accent};
  --hero-bg: #{$hero-bg};
  --hero-text: #{$hero-text};
  --hero-text-muted: #{$hero-text-muted};
  
  // Only set RGB if colors are valid
  @if type-of($hero-primary) == "color" {
    --hero-primary-rgb: #{red($hero-primary), green($hero-primary), blue($hero-primary)};
  } @else {
    --hero-primary-rgb: 99, 102, 241; // Fallback to default purple
  }
  
  @if type-of($hero-accent) == "color" {
    --hero-accent-rgb: #{red($hero-accent), green($hero-accent), blue($hero-accent)};
  } @else {
    --hero-accent-rgb: 6, 182, 212; // Fallback to default cyan
  }
  
  @if $hero-bg-img != "" {
    --hero-bg-img: url(#{$hero-bg-img});
  }
  --hero-min-height: #{$hero_min_height};
}
